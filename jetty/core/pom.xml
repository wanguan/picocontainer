<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>com.picocontainer.jetty</groupId><artifactId>picocontainer-jetty</artifactId><version>3.0-SNAPSHOT</version>
    </parent>
    <artifactId>picocontainer-jetty-core</artifactId>
    <name>PicoContainer Jetty Core</name>
    <packaging>jar</packaging>
    <dependencies>
        <dependency>
            <groupId>com.picocontainer.script</groupId><artifactId>picocontainer-script-core</artifactId><version>3.0-SNAPSHOT</version>
        </dependency>
        <dependency>
            <groupId>com.picocontainer</groupId><artifactId>picocontainer</artifactId>
        </dependency>
        <!-- test scoped dependencies -->
        <dependency>
            <groupId>com.picocontainer</groupId><artifactId>picocontainer-gems</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.picocontainer.script</groupId><artifactId>picocontainer-script-tck</artifactId><version>3.0-SNAPSHOT</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>com.picocontainer.script</groupId><artifactId>picocontainer-script-testmodel</artifactId><version>3.0-SNAPSHOT</version>
            <scope>test</scope>
        </dependency>

        <!-- 
        <dependency>
            <groupId>${jetty.group}</groupId><artifactId>servlet-api</artifactId><version>2.5-20081211</version>
            <scope>provided</scope>
        </dependency>
        -->
		<dependency>
			<groupId>org.mortbay.jetty</groupId>
			<artifactId>jsp-2.1-glassfish</artifactId>
			<version>9.1.1.B60.25.p2</version>
			<type>jar</type>
			<scope>provided</scope>
		</dependency>
		<!--
		Straight up from the docs http://wiki.eclipse.org/Jetty/Starting/Porting_to_Jetty_7
		Haven't taken the time to figure out which of these jars we actually need for tests to run.
		-->
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-server</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-deploy</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-io</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-security</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-servlet</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-servlets</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-webapp</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency> <groupId>${jetty.group}</groupId><artifactId>jetty-xml</artifactId><version>${jetty.version}</version> <scope>provided</scope></dependency>
        <dependency>
            <groupId>commons-logging</groupId><artifactId>commons-logging</artifactId>
            <scope>provided</scope>
        </dependency>
    </dependencies>
    <build>
        <sourceDirectory>src/java</sourceDirectory>
        <testSourceDirectory>src/test</testSourceDirectory>
        <resources>
            <resource>
                <directory>src/java</directory>
                <excludes>
                    <exclude>**/*.java</exclude>
                </excludes>
            </resource>
        </resources>
        <testResources>
            <testResource>
                <directory>src/test</directory>
                <excludes>
                    <exclude>**/*.java</exclude>
                </excludes>
            </testResource>
        </testResources>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-compiler-plugin</artifactId><version>2.3.1</version>
                    <configuration>
                        <source>1.5</source>
                        <target>1.5</target>
                        <encoding>UTF-8</encoding>
                        <optimize>false</optimize>
                        <debug>true</debug>
                        <showDeprecation>true</showDeprecation>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-source-plugin</artifactId><version>2.1.2</version>
                    <executions>
                        <execution>
                            <id>attach-sources</id>
                            <phase>package</phase>
                            <goals>
                                <goal>jar</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-javadoc-plugin</artifactId><version>2.7</version>
                    <executions>
                        <execution>
                            <id>attach-javadocs</id>
                            <goals>
                                <goal>jar</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <links>
                            <link>http://java.sun.com/j2se/1.5.0/docs/api/</link>
                        </links>
                        <stylesheet>maven</stylesheet>
                        <header>
                            <![CDATA[<img class="logo" src="http://www.picocontainer.org/images/pico-logo.png"></img>]]>
                        </header>
                        <linksource>true</linksource>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-surefire-plugin</artifactId><version>2.5</version>
                    <configuration>
                        <junitArtifactName>junit:junit-dep</junitArtifactName>
                        <forkMode>once</forkMode>
                        <workingDirectory>${basedir}</workingDirectory>
                        <systemProperties>
                            <property>
                                <name>java.awt.headless</name>
                                <value>true</value>
                            </property>
                            <property>
                                <name>testcomp.jar</name>
                                <value>${basedir}/../script-core/src/test-comp/TestComp.jar</value>
                            </property>
                        </systemProperties>
                        <includes>
                            <include>**/*Test.java</include>
                            <include>**/*TestCase.java</include>
                        </includes>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId><artifactId>cobertura-maven-plugin</artifactId><version>2.4</version>
                    <executions>
                        <execution>
                            <goals>
                                <goal>clean</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-release-plugin</artifactId><version>2.0-beta-7</version>
                    <configuration>
                        <autoVersionSubmodules>true</autoVersionSubmodules>
                        <preparationGoals>clean install</preparationGoals>
                        <goals>deploy</goals>
                        <tagBase>https://svn.codehaus.org/picocontainer/java/2.x/tags/</tagBase>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-assembly-plugin</artifactId><version>2.1</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-dependency-plugin</artifactId><version>2.0-alpha-4</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId><artifactId>maven-site-plugin</artifactId><version>2.0-beta-6</version>
                </plugin>
            </plugins>
        </pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId><artifactId>maven-compiler-plugin</artifactId>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId><artifactId>maven-surefire-plugin</artifactId>
            </plugin>
        </plugins>
        <extensions>
            <extension>
                <groupId>org.apache.maven.wagon</groupId><artifactId>wagon-webdav</artifactId><version>1.0-beta-2</version>
            </extension>
        </extensions>
    </build>
</project>